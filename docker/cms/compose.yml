version: '3.8'
 
volumes:
  nginx:
  php:
  mysql:
  
services:
  nginx:
    image: jaraim/nginx
    container_name: nginx
    restart: always
    ports:
      - 80:80
      - 443:443
    volumes:
      - /root/docker/web/nginx.conf:/etc/nginx/nginx.conf
      - /root/docker/web/certs:/etc/nginx/certs
      - /root/docker/web/html:/var/www/html

  php:
    image: jaraim/php
    container_name: php
    restart: always
    volumes:
      - /root/docker/web/php/html:/var/www/html

  mysql: 
    image: jaraim/mysql 
    container_name: mysql
    restart: unless-stopped  
    ports:
      - 3306:3306
    volumes: 
      - /root/docker/web/mysql:/var/lib/mysql
    environment: 
      - MYSQL_DATABASE=exampledb  
      - MYSQL_USER=exampleuser     
      - MYSQL_PASSWORD=examplepass  
      - MYSQL_RANDOM_ROOT_PASSWORD= 1 
